(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{3212:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var r=n(5861),s=n(885),c=n(7757),a=n.n(c),u=n(1125),i=n(3099),o=n(9814),l=n(5833),f=n(9669),d=n.n(f),p=n(4184),x=n.n(p),m=n(1163),h=n(7294),v=n(4304),j=n(5893);function b(e){var t=e.position,n=void 0===t?"up":t,c=e.className,f=(0,v.OT)(),p=(0,s.Z)(f,3),b=p[0],y=p[1],w=p[2],g=(0,m.useRouter)(),N=(0,h.useRef)(null);(0,v.t$)(N,(function(){return w(!1)}));var Z=function(){var e=(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d().post("/api/auth/logout");case 3:e.sent,g.push("/login"),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),k=x()("absolute card right-0 transform shadow-lg",{"-translate-y-3 bottom-full":"up"===n},{"translate-y-3 top-full":"down"===n},c);return(0,j.jsxs)("button",{onClick:y,className:"relative rounded-btn",ref:N,children:[b?(0,j.jsx)(u.Z,{}):(0,j.jsx)(i.Z,{}),b&&(0,j.jsx)("div",{className:k,children:(0,j.jsxs)("ul",{tabIndex:0,className:"p-2 !pl-2 menu bg-base-100/70 rounded-box w-52 space-y-2",children:[(0,j.jsx)("li",{className:"w-full",children:(0,j.jsxs)("a",{className:"space-x-3",onClick:function(){return g.push("/profile")},children:[(0,j.jsx)(o.Z,{})," ",(0,j.jsx)("span",{children:"Profile"})]})}),(0,j.jsx)("hr",{className:"border-base-200"}),(0,j.jsx)("li",{className:"w-full text-red-400",children:(0,j.jsxs)("a",{className:"space-x-3",onClick:Z,children:[(0,j.jsx)(l.Z,{})," ",(0,j.jsx)("span",{children:"Logout"})]})})]})})]})}},8739:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(5893);function s(e){var t=e.className;return(0,r.jsxs)("div",{className:"".concat(t," justify-between text-sm w-full"),children:[(0,r.jsxs)("span",{children:["created by"," ",(0,r.jsx)("a",{className:"underline",href:"https://devchallenges.io/portfolio/Hussein-Mourad",children:"Hussein-Mourad"})]}),(0,r.jsx)("a",{href:"https://devchallenges.io",children:"devchallenges.io"})]})}},4956:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(6459),s=n(5477),c=n(5893);function a(e){return(0,r.Z)(e),(0,c.jsx)("div",{className:"fixed top-0 left-0 flex items-center justify-center w-screen min-h-screen p-4",children:(0,c.jsx)(s.Z,{classes:{circle:"text-primary"}})})}},843:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(1664),s=n(3212),c=n(5893);function a(e){var t=e.user;return(0,c.jsx)("header",{children:(0,c.jsxs)("nav",{className:"flex items-center justify-between",children:[(0,c.jsx)(r.default,{href:"/",passHref:!0,children:(0,c.jsx)("img",{src:"/devchallenges-light.svg",alt:"logo"})}),(0,c.jsxs)("div",{className:"flex items-center focus:outline-none",children:[(0,c.jsx)("img",{className:"w-8 h-8 rounded-lg",src:t.avatar,alt:"avatar"}),(0,c.jsx)("span",{className:"ml-2 mr-1",children:t.username}),(0,c.jsx)(s.Z,{position:"down"})]})]})})}},4304:function(e,t,n){"use strict";n.d(t,{XR:function(){return i},JL:function(){return s.Z},t$:function(){return r.Z},OT:function(){return c.Z}});var r=n(525),s=n(1679),c=n(5530),a=(n(8466),n(2982)),u=n(7294);function i(e){var t=(0,u.useState)(e),n=t[0],r=t[1];return{array:n,set:r,push:function(e){r((function(t){return[].concat((0,a.Z)(t),[e])}))},filter:function(e){r((function(t){return t.filter(e)}))},update:function(e,t){r((function(n){return[].concat((0,a.Z)(n.slice(0,e)),[t],(0,a.Z)(n.slice(e+1,n.length)))}))},remove:function(e){r((function(t){return[].concat((0,a.Z)(t.slice(0,e)),(0,a.Z)(t.slice(e+1,t.length)))}))},clear:function(){r([])}}}},1679:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(5861),s=n(7757),c=n.n(s),a=n(9669),u=n.n(a),i=n(1163),o=n(7294);function l(){var e=(0,o.useState)(!0),t=e[0],n=e[1],s=(0,o.useState)(null),a=s[0],l=s[1],f=(0,i.useRouter)();return(0,o.useEffect)((function(){return(0,r.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u().post("/api/auth/");case 3:t=e.sent,l(t.data),n(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),f.push("/login");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))(),function(){}}),[]),{user:a,isLoading:t}}},8466:function(e,t,n){"use strict";var r=n(5861),s=n(4942),c=n(7757),a=n.n(c),u=n(7294);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e,t){var n=(0,u.useRef)({}),s=(0,u.useRef)(!1),c={error:void 0,data:void 0},i=(0,u.useReducer)((function(e,t){switch(t.type){case"loading":return o({},c);case"fetched":return o(o({},c),{},{data:t.payload});case"error":return o(o({},c),{},{error:t.payload});default:return e}}),c),l=i[0],f=i[1];return(0,u.useEffect)((function(){if(e)return function(){var c=(0,r.Z)(a().mark((function r(){var c,u;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(f({type:"loading"}),!n.current[e]){r.next=4;break}return f({type:"fetched",payload:n.current[e]}),r.abrupt("return");case 4:return r.prev=4,r.next=7,fetch(e,t);case 7:if((c=r.sent).ok){r.next=10;break}throw new Error(c.statusText);case 10:return r.next=12,c.json();case 12:if(u=r.sent,n.current[e]=u,!s.current){r.next=16;break}return r.abrupt("return");case 16:f({type:"fetched",payload:u}),r.next=24;break;case 19:if(r.prev=19,r.t0=r.catch(4),!s.current){r.next=23;break}return r.abrupt("return");case 23:f({type:"error",payload:r.t0});case 24:case"end":return r.stop()}}),r,null,[[4,19]])})));return function(){return c.apply(this,arguments)}}()(),function(){s.current=!0}}),[e]),l}},525:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(7294);function s(e,t){(0,r.useEffect)((function(){var n=function(n){var r=null===e||void 0===e?void 0:e.current;r&&!r.contains(n.target)&&t(n)};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),function(){document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}}),[e,t])}},5530:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(7294);function s(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,r.useState)(e),n=t[0],s=t[1],c=(0,r.useCallback)((function(){return s((function(e){return!e}))}),[]);return[n,c,s]}},1190:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var r=n(8739),s=n(4956),c=n(843),a=n(1664),u=n(5893),i=function(e){var t=e.title,n=e.children;return(0,u.jsxs)("div",{className:"flex items-center justify-between px-2 py-8 sm:justify-start sm:px-10 ",children:[(0,u.jsx)("span",{className:"w-5/12 mr-5 text-sm font-medium uppercase sm:w-2/12",children:t}),(0,u.jsx)("div",{className:"inline-block w-5/6 break-words",children:n})]})};function o(e){var t=e.user;return(0,u.jsxs)("div",{className:"w-full mt-2 border-gray-300 divide-y rounded-lg sm:border sm:mt-7",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between w-full px-2 py-8 sm:px-10",children:[(0,u.jsxs)("div",{className:"flex flex-col text-lg font-medium ",children:["Profile"," ",(0,u.jsx)("span",{className:"text-sm font-base ",children:"Some info may be visible to other people"})]}),(0,u.jsx)(a.default,{href:"/profile/edit",passHref:!0,children:(0,u.jsx)("button",{className:"px-4 btn-sm btn btn-outline",children:"Edit"})})]}),["avatar","username"].map((function(e,n){return(0,u.jsxs)(i,{title:e,children:["avatar"===e&&(0,u.jsx)("img",{className:"w-20 h-20 rounded-lg",src:t[e],alt:"profile image"}),"username"===e&&t[e]]},n)}))]})}var l=n(1679),f=n(9008);function d(){var e=(0,l.Z)().user;return e?(0,u.jsxs)("div",{className:"container p-3 mx-auto md:p-5",children:[(0,u.jsx)(f.default,{children:(0,u.jsx)("meta",{httpEquiv:"Content-Security-Policy",content:"default-src *; img-src * 'self' data: https:; script-src 'self' 'unsafe-inline' 'unsafe-eval' *; style-src  'self' 'unsafe-inline' *"})}),(0,u.jsx)(c.Z,{user:e}),(0,u.jsxs)("div",{className:"flex flex-col items-center justify-center max-w-3xl mx-auto mt-8 ",children:[(0,u.jsx)("h1",{className:"text-3xl",children:"Personal info"}),(0,u.jsx)("p",{className:"mt-2 dark:text-gray-200",children:"Basic info, like your name and photo"}),(0,u.jsx)(o,{user:e}),(0,u.jsx)(r.Z,{className:"flex mt-2"})]})]}):(0,u.jsx)(s.Z,{})}},303:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return n(1190)}])}},function(e){e.O(0,[774,914,888,179],(function(){return t=303,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[345],{8434:function(n,e,r){"use strict";r.r(e),r.d(e,{default:function(){return f}});var i=r(6459),o=r(1679),t=r(8466),u=r(1163),s=r(7294),c=r(2794),a=r(811),d=r(5893);function f(n){(0,i.Z)(n);var e,r=(0,u.useRouter)().query.id,f=(0,s.useContext)(c.J),_=(0,o.Z)(),l=_.isLoading;_.user;r&&(e="/api/rooms/"+r);var m=(0,t.Z)(e,{credentials:"include"}),v=m.data,h=m.error;return(0,s.useEffect)((function(){return f.connect(),f.emit("join room",r),function(){f.emit("leave room",r)}}),[]),h?(0,d.jsx)("div",{children:"error TODO"}):!v||l?(0,d.jsx)(a.a_,{}):(0,d.jsx)("div",{children:(0,d.jsx)(a.Zn,{title:v.name,room:v,children:(0,d.jsx)(a.ai,{messages:v.messages})})})}},4271:function(n,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/rooms/[id]",function(){return r(8434)}])}},function(n){n.O(0,[774,914,115,811,888,179],(function(){return e=4271,n(n.s=e);var e}));var e=n.O();_N_E=e}]);